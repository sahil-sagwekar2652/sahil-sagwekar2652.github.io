<!DOCTYPE html>
<html lang="en">
<head>
          <link rel="stylesheet" href="/theme/css/style.css" />
        <link rel="stylesheet" href="/theme/css/fonts.css" />
        <meta name="viewport" content="width=device-width,initial-scale=1.0">
        <title>Create an HTTP server in Python &ndash; Sahil's Blog</title>
        <meta charset="utf-8" />
        <link href="https://sahilhacks.co/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Sahil's Blog Full Atom Feed" />

        <meta name="keywords" content="Sahil's Blog Create an HTTP server in Python " />

        <meta property="og:image" content="https://sahilhacks.co/files/images/hrw-512.jpg" />




    <meta name="description" content="Introduction Whenever we hear the word server, an image of a big bulky computer with lots of cables and no display pops up in our mind. But technically any computer can be a server. A server is just a computer that is 'serving' accessible data on a network. In this …" />


        <link rel="manifest" href="/manifest.json" />
        <meta name="theme-color" content="#2e8233"/>
        <link rel="apple-touch-icon" sizes="192x192" href="/files/images/hrw-192.jpg">
        <link rel="icon" href="/files/images/hrw-192.jpg">
        <link rel="me" href="https://society.oftrolls.com/@hrw">
        <script>

if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('/service-worker.js').then(function(registration) {
      console.log('ServiceWorker registration successful with scope: ', registration.scope);
    }, function(err) {
      console.log('ServiceWorker registration failed: ', err);
    });
  });
}

        </script>
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://sahilhacks.co/">Sahil's Blog</a></h1>
                <p></p>
        </header>
        <nav id="menu"><ul>
        </ul></nav>

<main id="content"  data-pagefind-body >
	<header>
		<h2 class="entry-title" data-pagefind-meta="title" >
			<a href="https://sahilhacks.co/create-an-http-server-in-python.html" rel="bookmark" title="Permalink to Create an HTTP server in Python">Create an HTTP server in Python</a>
		</h2>
	</header>
	<div class="entry-content">
		<h2 id="heading-introduction">Introduction</h2>
<p>Whenever we hear the word server, an image of a big bulky computer with lots of cables and no display pops up in our mind. But technically any computer can be a server. A server is just a computer that is 'serving' accessible data on a network.</p>
<p>In this blog post, we will learn how to create a simple HTTP server in Python.</p>
<h2 id="heading-how-does-a-server-work">How does a server work?</h2>
<p><img alt="Spider Man How Does That Work Exactly GIF - Spider Man How Does That Work Exactly How Does It Work GIFs" class="image--center mx-auto" src="https://media.tenor.com/W7C6o9zgj_QAAAAC/spider-man-how-does-that-work-exactly.gif"></p>
<p>A server works by listening on a specific port for incoming connections from clients. Generally, multiple services which all connect to the Internet are running simultaneously on a server. In simple terms, the port number is used to identify the service to which the request is being made. For example, port 80 is usually used for HTTP (HyperText Transfer Protocol), which is the protocol for web communication.</p>
<p><img alt class="image--center mx-auto" src="https://cdn.hashnode.com/res/hashnode/image/upload/v1680070124220/7fc9b86b-45ff-4499-9e0b-f527452e5138.png"></p>
<p>When a client connects to a server on a port, the server accepts the connection and creates a socket, which is an endpoint for communication between the two parties. The client and the server then exchange messages using the protocol of the service. For example, for HTTP, the client sends an HTTP request message, which contains information such as the method (GET, POST, etc.), the path (the URL of the resource), and the headers (additional information). The server then processes the request and sends back an <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status">HTTP response message</a>, which contains information such as the status code (200 OK, 404 Not Found, etc.), the headers, and the body (the content of the resource).</p>
<h2 id="heading-how-to-create-a-server-using-the-httpserver-module-in-python">How to create a server using the http.server module in Python?</h2>
<h3 id="heading-method-1">Method 1</h3>
<p>This is the fastest way to get your server up and running and also to local data to other devices on your local network.<br>
To achieve this we run the following command:</p>
<div class="highlight"><pre><span></span><code>python -m http.server# Serving HTTP on :: port 8000 (http://[::]:8000/) ...
</code></pre></div>

<p>This command will host the contents of the current directory on localhost i.e. 127.0.0.1 and default port 8000.</p>
<p><img alt="That Was Fast GIF - Fast GIFs" class="image--center mx-auto" src="https://media.tenor.com/stcVUHuVy5IAAAAS/fast.gif"></p>
<p>We can also access the server from another device that is connected to the same network as our server device. To do this, we need to find out the IP address of our server device. For example, on Windows, we can use the <code>ipconfig</code> command in a command prompt, and on Linux or macOS, we can use the <code>ifconfig</code> command in a terminal. We need to note down the IP address that is shown for our network adapter.</p>
<div class="highlight"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="nx">python</span><span class="w"> </span><span class="o">-</span><span class="nx">m</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">server</span><span class="w"> </span><span class="o">--</span><span class="nx">bind</span><span class="w"> </span><span class="p">&lt;</span><span class="nx">local</span><span class="o">-</span><span class="nx">ip</span><span class="o">-</span><span class="kd">addr</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="nx">port</span><span class="o">-</span><span class="nx">number</span><span class="p">&gt;</span><span class="nx">python</span><span class="w"> </span><span class="o">-</span><span class="nx">m</span><span class="w"> </span><span class="nx">http</span><span class="p">.</span><span class="nx">server</span><span class="w"> </span><span class="o">--</span><span class="nx">bind</span><span class="w"> </span><span class="m m-Double">192.168.1.206</span><span class="w"> </span><span class="mi">9999</span><span class="err">#</span><span class="w"> </span><span class="nx">Serving</span><span class="w"> </span><span class="nx">HTTP</span><span class="w"> </span><span class="nx">on</span><span class="w"> </span><span class="m m-Double">192.168.1.206</span><span class="w"> </span><span class="nx">port</span><span class="w"> </span><span class="mi">9999</span><span class="w"> </span><span class="p">(</span><span class="nx">http</span><span class="p">:</span><span class="c1">//192.168.1.206:9999/) ...</span>
</code></pre></div>

<p>The above command will host the content of the current directory on the <a href="http://192.168.1.206:9999/">http://192.168.1.206:9999/</a> URL and will be accessible to all the devices on the local network.</p>
<h3 id="heading-method-2">Method 2</h3>
<p>To create a slightly more customized server using Python, we can use the built-in http.server module. This module provides classes for handling HTTP requests and responses. We can use the <code>HTTPServer</code> class to create a server object, and the <code>BaseHTTPRequestHandler</code> class to define how to handle requests.</p>
<p>To use the http.server module, we need to import it into our Python script. Then, we need to create a subclass of <code>BaseHTTPRequestHandler</code> and override the <code>do_GET</code> method. This method is called when the server receives a <a href="http://www.devdoc.net/web/developer.mozilla.org/en-US/docs/Web/HTTP/Methods/GET.html#:~:text=The%20HTTP%20GET%20method%20requests%20a%20representation%20of,GET%20should%20only%20retrieve%20data.%20Syntax%20GET%20%2Findex.html">GET request</a> from a client. We can write our logic for handling the request inside this method. For example, we can send back some HTML code to display on the client's browser.</p>
<p>Next, we need to create an instance of HTTPServer and pass it two arguments: a tuple of an empty string and a port number, and our handler class. The empty string means that the server will listen on all available IP addresses, and the port number is the port where the server will run. We can choose any port number that is not already in use by another program. Finally, we need to call the serve_forever method on the server object to start the server.</p>
<p>Here is an example of how to create a simple HTTP server in Python:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Import the http.server moduleimport http.server# Create a subclass of BaseHTTPRequestHandlerclass MyHandler(http.server.BaseHTTPRequestHandler):# Override the do_GET methoddef do_GET(self):    # Send a 200 OK response    self.send_response(200)    # Send headers    self.send_header(&quot;Content-type&quot;, &quot;text/html&quot;)    self.end_headers()    # Write some HTML code    self.wfile.write(b&quot;&lt;h1&gt;Hello from Python!&lt;/h1&gt;&quot;)# Create an instance of HTTPServerserver = http.server.HTTPServer((&quot;&quot;, 8000), MyHandler)# Start the serverserver.serve_forever()</span>
</code></pre></div>

<p>To run this script, we need to save it as a .py file and execute it in a terminal or command prompt. For example, if we save it as <a href="http://server.py">server.py</a>, we can run it with:</p>
<div class="highlight"><pre><span></span><code>python server.py
</code></pre></div>

<p>This will start the server on port 8000. To access the server from a web browser, we need to enter the URL <a href="http://localhost:8000">http://localhost:8000</a> or <a href="http://127.0.0.1:8000">http://127.0.0.1:8000</a>. This will display the HTML code that we wrote in the do_GET method. If we enter the IP address of the server then, we can enter the URL http://\&lt;ip_address&gt;:8000 in a web browser on another device, where \&lt;ip_address&gt; is the IP address of our server device. This is how we can create a simple HTTP server in Python using http.server module. We can customize our handler class to handle different types of requests and send different types of responses.</p>
<h3 id="heading-testing-the-output">Testing the output</h3>
<p>You can test the output by simply opening the link on you browser or by using curl, which is a command line program to make a request to the server from the command line.</p>
<div class="highlight"><pre><span></span><code><span class="err">#</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">g</span><span class="p">.</span><span class="w"> </span><span class="nx">curl</span><span class="w"> </span><span class="nx">http</span><span class="p">:</span><span class="c1">//0.0.0.0:8000/curl http://&lt;ip_address&gt;:&lt;port_number&gt;</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>&lt;/p&gt;
</code></pre></div>
	</div>
	<footer class="post-info">
		Written by Sahil Sagwekar on 
		<time class="published" datetime="2023-03-29T12:19:00+05:30" data-pagefind-sort="date">				29th
March 2023
		</time>
	</footer>
	<ul id="next-prev-links">
	</ul>
</main>
        
        <aside id="sidebar">
                <h2>About me</h2>
                <p>
                I work at Red Hat. And I am full time assignee at Linaro.
                Mostly working on AArch64 support in several projects.
                </p>

                <p>
                I am also known as 'hrw' (<a href="/2007/04/26/how-to-pronounce-haerwu/">/hʌ eə vʊ/</a>).
                </p>

		<h2>Search</h2>
		<div id="search"></div>

                <h2>Privacy policy</h2>
                <p>This website does not use cookies. Server logs contain IP
                   address and user agent info. You can leave if you disagree.</p>
                <p><a href="/2018/05/24/gdpr/">GDPR information</a> if you want to read such policies.</p>

                <h2>Useful tables</h2>

                <ul>
                        <li>
                                <a href="/download/tables/bsa-sbsa.html">BSA and
                                        SBSA checklists</a>
                        </li>
                        <li>
                                <a href="/download/tables/syscalls.html">Linux kernel
                                        system calls for all architectures</a>
                        </li>
                        <li>
                                <a href="/download/tables/arm-socs.html">AArch64 SoC features</a>
                        </li>
                        <li>
                                <a href="/download/tables/arm-cpu-cores.html">AArch64 cpu core information</a>
                        </li>
                        <li>
                                <a href="/download/tables/fosdem/">FOSDEM videos</a>
                        </li>
                </ul>

                <h2>Recent posts</h2>
                <ul>
                        <li>
                                <a href="https://sahilhacks.co/how-to-deploy-a-flask-app-to-production.html">How to deploy a Flask app to production</a>
                        </li>
                        <li>
                                <a href="https://sahilhacks.co/how-to-solve-failed-to-mount-no-such-device-error-with-the-docker-daemon.html">How to solve "failed to mount: no such device" error with the docker daemon</a>
                        </li>
                        <li>
                                <a href="https://sahilhacks.co/make-your-own-static-blog-using-pelican.html">Make your own static blog using Pelican</a>
                        </li>
                        <li>
                                <a href="https://sahilhacks.co/practical-productivity-hacks.html">Practical Productivity Hacks</a>
                        </li>
                        <li>
                                <a href="https://sahilhacks.co/understanding-the-essentials-of-prompt-engineering-a-beginners-guide.html">Understanding the Essentials of Prompt Engineering: A Beginner's Guide</a>
                        </li>
                        <li>
                                <a href="https://sahilhacks.co/create-an-http-server-in-python.html">Create an HTTP server in Python</a>
                        </li>
                        <li>
                                <a href="https://sahilhacks.co/starting-your-coding-journey-might-not-be-as-hard-as-you-think.html">Starting your coding journey might not be as hard as you think…</a>
                        </li>
                        <li>
                                <a href="https://sahilhacks.co/my-contributions-kwoc-2022.html">My contributions @  KWoC 2022</a>
                        </li>
                </ul>
        </aside>
        
        <footer id="site-footer">
                <p>
                        Copyright by Marcin Juszkiewicz. Licensed under <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/">CC BY-NC-ND 4.0</a>.
                </p>
        </footer>
	<link  href="/_pagefind/pagefind-ui.css" rel="stylesheet">
	<script src="/_pagefind/pagefind-ui.js" type="text/javascript"></script>
	<script>
		window.addEventListener('DOMContentLoaded', (event) => {
			new PagefindUI({
				element: "#search",
				showImages: false,
			});
		});
	</script>
</body>
</html>